{"ast":null,"code":"var _jsxFileName = \"/Users/john/Documents/remesh_clone/remesh_clone_fe/src/App.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport Convos from \"./components/Convos\";\nimport NaviBar from \"./components/navBar\";\nimport \"./App.css\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport ConvoModal from \"./components/convoModal\";\nimport MessageModal from \"./components/messageModal\";\nimport ThoughtModal from \"./components/ThoughtsModal\";\nimport Messages from \"./components/Messages\";\nimport Thoughts from \"./components/Thoughts\";\nimport NewMessage from \"./components/newMessage\";\nimport NewThought from \"./components/newThought\";\nimport NewConvo from \"./components/newConversation\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      const title = event.target.elements.title.value;\n      const start_date = event.target.elements.date.value;\n      console.log(start_date);\n      axios.post(\"http://localhost:8000/api/conversations/\", {\n        title: title,\n        start_date: start_date,\n        isOpenConvo: false\n      });\n      axios.get(\"http://localhost:8000/api/conversations/\").then(response => {\n        const conversations = response.data;\n        this.setState({\n          conversations\n        });\n      });\n    };\n\n    this.onHandleChange = e => {\n      this.setState({\n        message: e.target.value\n      });\n    };\n\n    this.getConvoDetail = (convoId, convoTitle) => {\n      console.log(convoId); // console.log(event)\n      // event.preventDefault();\n\n      axios.get(`http://localhost:8000/api/messages/${convoId}`).then(response => {\n        const messages = response.data;\n        this.setState({\n          messages: messages,\n          activeConvo: convoTitle,\n          isMessages: true,\n          currConvoId: convoId\n        });\n      });\n    };\n\n    this.getMessageDetail = (messId, messTitle) => {\n      console.log(messId); // console.log(event)\n      // event.preventDefault();\n\n      axios.get(`http://localhost:8000/api/thoughts/${messId}`).then(response => {\n        const thoughts = response.data;\n        this.setState({\n          thoughts: thoughts,\n          activeMess: messTitle,\n          isThoughts: true,\n          currMessageId: messId\n        });\n      });\n    };\n\n    this.handleDownVote = postId => {\n      axios.post(`http://localhost:8000/api/posts/${postId}/down_vote/`, {\n        pk: postId\n      });\n      axios.get(\"http://localhost:8000/api/posts/\").then(response => {\n        const posts = response.data;\n        this.setState({\n          posts\n        });\n      });\n    };\n\n    this.handleFeed = feedName => {\n      axios.get(`http://localhost:8000/api/${feedName}/`).then(response => {\n        const posts = response.data;\n        this.setState({\n          posts\n        });\n      });\n    };\n\n    this.toggleNewConvo = () => {\n      if (this.state.isCreateConvo) {\n        this.setState({\n          isCreateConvo: false\n        });\n      } else {\n        this.setState({\n          isCreateConvo: true\n        });\n      }\n    };\n\n    this.showConvoModal = () => {\n      this.setState({\n        isOpenConvo: true\n      });\n    };\n\n    this.hideModal = () => {\n      this.setState({\n        isOpenConvo: false\n      });\n    };\n\n    this.hideMessageModal = () => {\n      this.setState({\n        isOpenMessage: false\n      });\n    };\n\n    this.hideThoughtModal = () => {\n      this.setState({\n        isOpenThought: false\n      });\n    };\n\n    this.handleMessageFormSubmit = event => {\n      event.preventDefault();\n      console.log(event.target);\n      const message = event.target.elements.message.value;\n      const conversation = this.state.currConvoId;\n      axios.post(\"http://localhost:8000/api/messages/\", {\n        message: message,\n        conversation: conversation,\n        isOpenMessage: false\n      });\n      axios.get(`http://localhost:8000/api/messages/${conversation}`).then(response => {\n        const messages = response.data;\n        this.setState({\n          messages\n        });\n      });\n    };\n\n    this.handleThoughtFormSubmit = event => {\n      event.preventDefault();\n      console.log(event.target);\n      const thought = event.target.elements.thought.value;\n      const message = this.state.currMessageId;\n      axios.post(\"http://localhost:8000/api/thoughts/\", {\n        thought: thought,\n        message: message,\n        isOpenThought: false\n      });\n      axios.get(`http://localhost:8000/api/thoughts/${message}`).then(response => {\n        const thoughts = response.data;\n        this.setState({\n          thoughts\n        });\n      });\n    };\n\n    this.showMessageModal = () => {\n      this.setState({\n        isOpenMessage: true\n      });\n    };\n\n    this.showThoughtModal = () => {\n      this.setState({\n        isOpenThought: true\n      });\n    };\n\n    this.updateSearch = event => {\n      this.setState({\n        search: event.target.value\n      });\n    };\n\n    this.state = {\n      isCreateConvo: false,\n      isMessages: false,\n      isThoughts: false,\n      conversations: [],\n      messages: [],\n      thoughts: [],\n      isOpenConvo: false,\n      isOpenMessage: false,\n      isOpenThought: false,\n      setIsOpenConvo: false,\n      selectedDate: \"\",\n      currConvoId: 0,\n      currMessageId: 0,\n      search: \"\",\n      activeConvo: \"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:8000/api/conversations/\").then(response => {\n      const conversations = response.data;\n      this.setState({\n        conversations\n      });\n    });\n  }\n\n  render() {\n    let filteredConvos = this.state.conversations.filter(convo => {\n      return convo.title.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(NaviBar, {\n      search: this.state.search,\n      updateSearch: this.updateSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NewConvo, {\n      messages: this.state.conversations,\n      showConvoModal: this.showConvoModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Convos, {\n      filteredConvos: filteredConvos,\n      getConvoDetail: this.getConvoDetail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, this.state.isMessages && /*#__PURE__*/React.createElement(NewMessage, {\n      activeConvo: this.state.activeConvo,\n      showMessageModal: this.showMessageModal,\n      messages: this.state.messages,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }), this.state.messages.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Messages, {\n      messages: this.state.messages,\n      getMessageDetail: this.getMessageDetail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, this.state.isThoughts && /*#__PURE__*/React.createElement(NewThought, {\n      activeMess: this.state.activeMess,\n      showThoughtModal: this.showThoughtModal,\n      thoughts: this.state.thoughts,\n      activeConvo: this.state.activeConvo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }), this.state.thoughts.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Thoughts, {\n      thoughts: this.state.thoughts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(ConvoModal, Object.assign({}, this.state, {\n      handleFormSubmit: this.handleFormSubmit,\n      showConvoModal: this.showConvoModal,\n      hideModal: this.hideModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(MessageModal, Object.assign({}, this.state, {\n      handleMessageFormSubmit: this.handleMessageFormSubmit,\n      showConvoModal: this.showMessageModal,\n      hideModal: this.hideMessageModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(ThoughtModal, Object.assign({}, this.state, {\n      handleThoughtFormSubmit: this.handleThoughtFormSubmit,\n      showConvoModal: this.showThoughtModal,\n      hideModal: this.hideThoughtModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/john/Documents/remesh_clone/remesh_clone_fe/src/App.js"],"names":["React","axios","Convos","NaviBar","Container","Row","Col","ConvoModal","MessageModal","ThoughtModal","Messages","Thoughts","NewMessage","NewThought","NewConvo","App","Component","constructor","props","handleFormSubmit","event","preventDefault","title","target","elements","value","start_date","date","console","log","post","isOpenConvo","get","then","response","conversations","data","setState","onHandleChange","e","message","getConvoDetail","convoId","convoTitle","messages","activeConvo","isMessages","currConvoId","getMessageDetail","messId","messTitle","thoughts","activeMess","isThoughts","currMessageId","handleDownVote","postId","pk","posts","handleFeed","feedName","toggleNewConvo","state","isCreateConvo","showConvoModal","hideModal","hideMessageModal","isOpenMessage","hideThoughtModal","isOpenThought","handleMessageFormSubmit","conversation","handleThoughtFormSubmit","thought","showMessageModal","showThoughtModal","updateSearch","search","setIsOpenConvo","selectedDate","componentDidMount","render","filteredConvos","filter","convo","toLowerCase","indexOf","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport Convos from \"./components/Convos\";\nimport NaviBar from \"./components/navBar\";\nimport \"./App.css\";\nimport {\n  Container,\n  Row,\n  Col,\n} from \"react-bootstrap\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport ConvoModal from \"./components/convoModal\";\nimport MessageModal from \"./components/messageModal\";\nimport ThoughtModal from \"./components/ThoughtsModal\";\nimport Messages from \"./components/Messages\";\nimport Thoughts from \"./components/Thoughts\";\nimport NewMessage from \"./components/newMessage\";\nimport NewThought from \"./components/newThought\";\nimport NewConvo from \"./components/newConversation\"\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isCreateConvo: false,\n      isMessages: false,\n      isThoughts: false,\n      conversations: [],\n      messages: [],\n      thoughts: [],\n      isOpenConvo: false,\n      isOpenMessage: false,\n      isOpenThought: false,\n      setIsOpenConvo: false,\n      selectedDate: \"\",\n      currConvoId: 0,\n      currMessageId: 0,\n      search: \"\",\n      activeConvo:\"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:8000/api/conversations/\").then((response) => {\n      const conversations = response.data;\n      this.setState({ conversations });\n    });\n  }\n  \n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const title = event.target.elements.title.value;\n    const start_date = event.target.elements.date.value;\n    console.log(start_date);\n    axios.post(\"http://localhost:8000/api/conversations/\", {\n      title: title,\n      start_date: start_date,\n      isOpenConvo: false,\n    });\n    axios.get(\"http://localhost:8000/api/conversations/\").then((response) => {\n      const conversations = response.data;\n      this.setState({ conversations });\n    });\n  };\n\n  onHandleChange = (e) => {\n    this.setState({\n      message: e.target.value,\n    });\n  };\n\n  getConvoDetail = (convoId, convoTitle) => {\n    console.log(convoId);\n    // console.log(event)\n    // event.preventDefault();\n    axios\n      .get(`http://localhost:8000/api/messages/${convoId}`)\n      .then((response) => {\n        const messages = response.data;\n        this.setState({\n          messages: messages,\n          activeConvo: convoTitle,\n          isMessages: true,\n          currConvoId: convoId,\n        });\n      });\n  };\n\n  getMessageDetail = (messId, messTitle) => {\n    console.log(messId);\n    // console.log(event)\n    // event.preventDefault();\n    axios\n      .get(`http://localhost:8000/api/thoughts/${messId}`)\n      .then((response) => {\n        const thoughts = response.data;\n        this.setState({\n          thoughts: thoughts,\n          activeMess: messTitle,\n          isThoughts: true,\n          currMessageId: messId,\n        });\n      });\n  };\n\n  handleDownVote = (postId) => {\n    axios.post(`http://localhost:8000/api/posts/${postId}/down_vote/`, {\n      pk: postId,\n    });\n    axios.get(\"http://localhost:8000/api/posts/\").then((response) => {\n      const posts = response.data;\n      this.setState({ posts });\n    });\n  };\n\n  handleFeed = (feedName) => {\n    axios.get(`http://localhost:8000/api/${feedName}/`).then((response) => {\n      const posts = response.data;\n      this.setState({ posts });\n    });\n  };\n\n  toggleNewConvo = () => {\n    if (this.state.isCreateConvo) {\n      this.setState({\n        isCreateConvo: false,\n      });\n    } else {\n      this.setState({\n        isCreateConvo: true,\n      });\n    }\n  };\n\n  showConvoModal = () => {\n    this.setState({\n      isOpenConvo: true,\n    });\n  };\n  hideModal = () => {\n    this.setState({\n      isOpenConvo: false,\n    });\n  };\n  hideMessageModal = () => {\n    this.setState({\n      isOpenMessage: false,\n    });\n  };\n  hideThoughtModal = () => {\n    this.setState({\n      isOpenThought: false,\n    });\n  };\n\n  handleMessageFormSubmit = (event) => {\n    event.preventDefault();\n    console.log(event.target);\n    const message = event.target.elements.message.value;\n    const conversation = this.state.currConvoId;\n    axios.post(\"http://localhost:8000/api/messages/\", {\n      message: message,\n      conversation: conversation,\n      isOpenMessage: false,\n    });\n    axios.get(`http://localhost:8000/api/messages/${conversation}`).then((response) => {\n      const messages = response.data;\n      this.setState({ messages });\n    });\n  };\n\n  handleThoughtFormSubmit = (event) => {\n    event.preventDefault();\n    console.log(event.target);\n    const thought = event.target.elements.thought.value;\n    const message = this.state.currMessageId;\n    axios.post(\"http://localhost:8000/api/thoughts/\", {\n      thought: thought,\n      message: message,\n      isOpenThought: false,\n    });\n    axios.get(`http://localhost:8000/api/thoughts/${message}`).then((response) => {\n      const thoughts = response.data;\n      this.setState({ thoughts });\n    });\n  };\n\n  showMessageModal = () => {\n    this.setState({\n      isOpenMessage: true,\n    });\n  };\n\n  showThoughtModal = () => {\n    this.setState({\n      isOpenThought: true,\n    });\n  };\n\n  updateSearch = (event) => {\n    this.setState({\n      search: event.target.value,\n    });\n  };\n  render() {\n    let filteredConvos = this.state.conversations.filter((convo) => {\n      return (\n        convo.title.toLowerCase().indexOf(this.state.search.toLowerCase()) !==\n        -1\n      );\n    });\n    return (\n      <Container fluid>\n        <NaviBar search={this.state.search} updateSearch={this.updateSearch}  />\n        <Container fluid>\n\n          <Row>\n            <Col sm={4}>\n              <NewConvo messages={this.state.conversations} showConvoModal={this.showConvoModal} />\n              <Convos\n                filteredConvos={filteredConvos}\n                getConvoDetail={this.getConvoDetail}\n              />\n            </Col>\n            <Col sm={4}>\n              {this.state.isMessages && (\n                <NewMessage\n                  activeConvo={this.state.activeConvo}\n                  showMessageModal={this.showMessageModal}\n                  messages={this.state.messages}\n                />\n              )}\n              {this.state.messages.length > 0 && (\n                <div>\n                  <Messages\n                    messages={this.state.messages}\n                    getMessageDetail={this.getMessageDetail}\n                  />\n                </div>\n              )}\n            </Col>\n            <Col sm={4}>\n              {this.state.isThoughts && (\n              <NewThought\n                activeMess={this.state.activeMess}\n                showThoughtModal={this.showThoughtModal}\n                thoughts={this.state.thoughts}\n                activeConvo={this.state.activeConvo}\n              />\n              )}\n              {this.state.thoughts.length > 0 && (\n                <div>\n                  <Thoughts thoughts={this.state.thoughts} />\n                </div>\n              )}\n            </Col>\n            <ConvoModal\n              {...this.state}\n              handleFormSubmit={this.handleFormSubmit}\n              showConvoModal={this.showConvoModal}\n              hideModal={this.hideModal}\n            />\n            <MessageModal\n              {...this.state}\n              handleMessageFormSubmit={this.handleMessageFormSubmit}\n              showConvoModal={this.showMessageModal}\n              hideModal={this.hideMessageModal}\n            />\n            <ThoughtModal\n              {...this.state}\n              handleThoughtFormSubmit={this.handleThoughtFormSubmit}\n              showConvoModal={this.showThoughtModal}\n              hideModal={this.hideThoughtModal}\n            />\n          </Row>\n        </Container>\n      </Container>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}