{"ast":null,"code":"var _jsxFileName = \"/Users/john/Documents/remesh_clone/remesh_clone_fe/src/App.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport ConvoDetail from './components/ConvoDetail';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      const post_content = event.target.elements.post_content.value;\n      const boast_or_roast = event.target.elements.boast_or_roast.value;\n      axios.post(\"http://localhost:8000/api/posts/\", {\n        post_content: post_content,\n        boast_or_roast: boast_or_roast\n      });\n      axios.get(\"http://localhost:8000/api/posts/\").then(response => {\n        const posts = response.data;\n        this.setState({\n          posts,\n          message: \"\"\n        });\n      });\n    };\n\n    this.onHandleChange = e => {\n      this.setState({\n        message: e.target.value\n      });\n    };\n\n    this.getConvoDetail = (convoId, event) => {\n      console.log(convoId); // console.log(event)\n      // event.preventDefault();\n\n      axios.get(`http://localhost:8000/api/messages/${convoId}`).then(response => {\n        const messages = response.data;\n        this.setState({\n          messages\n        });\n      });\n    };\n\n    this.handleDownVote = postId => {\n      axios.post(`http://localhost:8000/api/posts/${postId}/down_vote/`, {\n        pk: postId\n      });\n      axios.get(\"http://localhost:8000/api/posts/\").then(response => {\n        const posts = response.data;\n        this.setState({\n          posts\n        });\n      });\n    };\n\n    this.handleFeed = feedName => {\n      axios.get(`http://localhost:8000/api/${feedName}/`).then(response => {\n        const posts = response.data;\n        this.setState({\n          posts\n        });\n      });\n    };\n\n    this.state = {\n      conversations: [],\n      messages: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:8000/api/conversations/\").then(response => {\n      const conversations = response.data;\n      this.setState({\n        conversations\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.conversations.map(convo => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      onClick: () => {\n        this.getConvoDetail(convo.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 69\n      }\n    }, convo.title)), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, convo.start_date), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, convo.id))), this.state.messages && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 31\n      }\n    }, this.state.messages.map(mess => /*#__PURE__*/React.createElement(\"div\", {\n      key: mess.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/john/Documents/remesh_clone/remesh_clone_fe/src/App.js"],"names":["React","axios","ConvoDetail","App","Component","constructor","props","handleFormSubmit","event","preventDefault","post_content","target","elements","value","boast_or_roast","post","get","then","response","posts","data","setState","message","onHandleChange","e","getConvoDetail","convoId","console","log","messages","handleDownVote","postId","pk","handleFeed","feedName","state","conversations","componentDidMount","render","map","convo","id","title","start_date","mess"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AAEA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBH,KAAK,CAACI,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAenBC,gBAfmB,GAeCC,KAAD,IAAW;AAC5BA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMC,YAAY,GAAGF,KAAK,CAACG,MAAN,CAAaC,QAAb,CAAsBF,YAAtB,CAAmCG,KAAxD;AACA,YAAMC,cAAc,GAAGN,KAAK,CAACG,MAAN,CAAaC,QAAb,CAAsBE,cAAtB,CAAqCD,KAA5D;AACAZ,MAAAA,KAAK,CAACc,IAAN,CAAW,kCAAX,EAA+C;AAC7CL,QAAAA,YAAY,EAAEA,YAD+B;AAE7CI,QAAAA,cAAc,EAAEA;AAF6B,OAA/C;AAIAb,MAAAA,KAAK,CAACe,GAAN,CAAU,kCAAV,EAA8CC,IAA9C,CAAoDC,QAAD,IAAc;AAC/D,cAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAvB;AACA,aAAKC,QAAL,CAAc;AAAEF,UAAAA,KAAF;AAASG,UAAAA,OAAO,EAAE;AAAlB,SAAd;AACD,OAHD;AAID,KA3BkB;;AAAA,SA6BnBC,cA7BmB,GA6BDC,CAAD,IAAO;AACtB,WAAKH,QAAL,CAAc;AACZC,QAAAA,OAAO,EAAEE,CAAC,CAACb,MAAF,CAASE;AADN,OAAd;AAGD,KAjCkB;;AAAA,SAoCnBY,cApCmB,GAoCF,CAACC,OAAD,EAAUlB,KAAV,KAAoB;AACnCmB,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EADmC,CAEnC;AACA;;AACAzB,MAAAA,KAAK,CAACe,GAAN,CAAW,sCAAqCU,OAAQ,EAAxD,EAA2DT,IAA3D,CAAiEC,QAAD,IAAc;AAC5E,cAAMW,QAAQ,GAAGX,QAAQ,CAACE,IAA1B;AACA,aAAKC,QAAL,CAAc;AAAEQ,UAAAA;AAAF,SAAd;AACD,OAHD;AAID,KA5CkB;;AAAA,SA8CnBC,cA9CmB,GA8CDC,MAAD,IAAY;AAC3B9B,MAAAA,KAAK,CAACc,IAAN,CAAY,mCAAkCgB,MAAO,aAArD,EAAmE;AACjEC,QAAAA,EAAE,EAAED;AAD6D,OAAnE;AAGA9B,MAAAA,KAAK,CAACe,GAAN,CAAU,kCAAV,EAA8CC,IAA9C,CAAoDC,QAAD,IAAc;AAC/D,cAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAvB;AACA,aAAKC,QAAL,CAAc;AAAEF,UAAAA;AAAF,SAAd;AACD,OAHD;AAID,KAtDkB;;AAAA,SAwDnBc,UAxDmB,GAwDLC,QAAD,IAAc;AACzBjC,MAAAA,KAAK,CAACe,GAAN,CAAW,6BAA4BkB,QAAS,GAAhD,EAAoDjB,IAApD,CAA0DC,QAAD,IAAc;AACrE,cAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAvB;AACA,aAAKC,QAAL,CAAc;AAAEF,UAAAA;AAAF,SAAd;AACD,OAHD;AAID,KA7DkB;;AAEjB,SAAKgB,KAAL,GAAa;AACXC,MAAAA,aAAa,EAAE,EADJ;AAEXP,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAID;;AAEDQ,EAAAA,iBAAiB,GAAG;AAClBpC,IAAAA,KAAK,CAACe,GAAN,CAAU,0CAAV,EAAsDC,IAAtD,CAA4DC,QAAD,IAAc;AACvE,YAAMkB,aAAa,GAAGlB,QAAQ,CAACE,IAA/B;AACA,WAAKC,QAAL,CAAc;AAAEe,QAAAA;AAAF,OAAd;AACD,KAHD;AAID;;AAiDDE,EAAAA,MAAM,GAAG;AAEP,wBACE,0CACC,KAAKH,KAAL,CAAWC,aAAX,CAAyBG,GAAzB,CAA6BC,KAAK,iBACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM;AAAC,aAAKf,cAAL,CAAoBe,KAAK,CAACC,EAA1B;AAA8B,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA4D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,KAAK,CAACE,KAAX,CAA5D,CADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,KAAK,CAACG,UAAX,CAFA,eAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIH,KAAK,CAACC,EAAV,CAHA,CADD,CADD,EAQC,KAAKN,KAAL,CAAWN,QAAX,iBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACrB,KAAKM,KAAL,CAAWN,QAAX,CAAoBU,GAApB,CAAwBK,IAAI,iBAC3B;AAAK,MAAA,GAAG,EAAEA,IAAI,CAACH,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADqB,CARxB,CADF;AAmBD;;AApF+B;;AAuFlC,eAAetC,GAAf","sourcesContent":["import React from 'react';\nimport axios from \"axios\";\nimport ConvoDetail from './components/ConvoDetail'\n\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      conversations: [],\n      messages: [],\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:8000/api/conversations/\").then((response) => {\n      const conversations = response.data;\n      this.setState({ conversations });\n    });\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const post_content = event.target.elements.post_content.value;\n    const boast_or_roast = event.target.elements.boast_or_roast.value;\n    axios.post(\"http://localhost:8000/api/posts/\", {\n      post_content: post_content,\n      boast_or_roast: boast_or_roast,\n    });\n    axios.get(\"http://localhost:8000/api/posts/\").then((response) => {\n      const posts = response.data;\n      this.setState({ posts, message: \"\" });\n    });\n  };\n\n  onHandleChange = (e) => {\n    this.setState({\n      message: e.target.value,\n    });\n  };\n\n\n  getConvoDetail = (convoId, event) => {\n    console.log(convoId)\n    // console.log(event)\n    // event.preventDefault();\n    axios.get(`http://localhost:8000/api/messages/${convoId}`).then((response) => {\n      const messages = response.data;\n      this.setState({ messages });\n    });\n  };\n\n  handleDownVote = (postId) => {\n    axios.post(`http://localhost:8000/api/posts/${postId}/down_vote/`, {\n      pk: postId,\n    });\n    axios.get(\"http://localhost:8000/api/posts/\").then((response) => {\n      const posts = response.data;\n      this.setState({ posts });\n    });\n  };\n\n  handleFeed = (feedName) => {\n    axios.get(`http://localhost:8000/api/${feedName}/`).then((response) => {\n      const posts = response.data;\n      this.setState({ posts });\n    });\n  };\n  render() {\n\n    return (\n      <>\n      {this.state.conversations.map(convo => (\n        <div>\n        <a href=\"#\" onClick={() => {this.getConvoDetail(convo.id)}}><h1>{convo.title}</h1></a>\n        <h3>{convo.start_date}</h3>\n        <p>{convo.id}</p>\n        </div>\n      ))}\n      {this.state.messages && <div>\n        {this.state.messages.map(mess => (\n          <div key={mess.id}>\n            \n            </div>\n\n        ))}\n        </div>}\n      </>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}